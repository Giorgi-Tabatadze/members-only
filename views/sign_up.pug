extends layout

block content
    form(method='POST' action='')
        .mb-3
            label.form-label(for='username') Username
            input#username.form-control(type='text',  name="username" required value=(username === undefined ? "" : username))
        .mb-3
            label.form-label(for='firstname') First Name
            input#firstname.form-control(type='text',  name="firstname" required value=(firstname === undefined ? "" : firstname))
        .mb-3
            label.form-label(for='lastname') Last Name
            input#lastname.form-control(type='text', name="lastname" required value=(lastname === undefined ? "" : lastname))
        .mb-3
            label.form-label(for='password' ) Password
            input#password.form-control(type='password' name="password" onChange="onChange()" minlength="6")
        .mb-3
            label.form-label(for='confirm-password' ) Password
            input#confirm-password.form-control(type='password' name="confirmPassword" onChange="onChange()")
        button.btn.btn-primary(type='submit') Submit
    if errors 
        ul
            for error in errors 
                li!= error.msg 

    script.
        function onChange() {
                const password = document.getElementById("password");
                const confirm = document.getElementById("confirm-password");
                if (confirm.value === password.value) {
                    confirm.setCustomValidity('');
                } else {
                    confirm.setCustomValidity('Passwords do not match');
                }
            }